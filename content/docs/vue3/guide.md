+++
title = "指南"
date = 2024-09-23T08:56:50+08:00
weight = 0
type = "docs"
description = ""
isCJKLanguage = true
draft = false

+++

## 使用`vue create dirName`命令和`npm init vite@latest`命令的区别

​	`vue create dirName` 和 `npm init vite@latest` 是两种常见的初始化 Vue 项目的方式，但它们之间有显著的区别，主要体现在项目的构建工具、配置复杂度、性能优化等方面：

1. **工具与构建器**

- `vue create dirName`: 使用 Vue CLI 创建项目。
  - Vue CLI 是基于 Webpack 的脚手架工具，用于快速生成 Vue 项目模板。
  - 提供图形化的配置界面，支持自定义插件、样式、状态管理等选项。
  - Webpack 是其核心构建工具，拥有丰富的插件生态系统，但配置相对复杂。
- `npm init vite@latest`: 使用 Vite 创建项目。
  - Vite 是一个更现代化的构建工具，基于 ESBuild 和 Rollup，主打开发时的极致性能和简单的配置。
  - 开发服务器启动快，HMR（热模块替换）响应速度快，适合大型项目的开发。
  - 配置轻量化，默认提供了更好的性能优化选项。

2. **性能**

- **Vue CLI（Webpack）**: 构建速度较慢，特别是当项目变大时，编译速度会明显下降。开发环境中的 HMR 性能相对较差，构建时间长。
- **Vite**: 启动速度快，HMR 响应迅速。由于使用了 ESBuild 进行预构建，开发体验极佳，特别是大型项目。

3. **配置与扩展性**

- **Vue CLI**: 配置灵活，适合需要自定义构建流程的项目。插件生态丰富，可以在创建项目时根据需要选择和配置 TypeScript、Vue Router、Vuex 等。
- **Vite**: 配置简洁，更注重开发体验和性能优化。默认配置已经足够应对大部分场景，但当需要自定义配置时，也可以通过插件进行扩展。

4. **社区与生态**

- **Vue CLI**: 社区成熟，插件体系庞大，很多老项目和企业级应用依赖 Vue CLI 进行开发。
- **Vite**: 社区增长迅速，已逐渐成为现代前端开发的主流选择，特别是新项目开发。Vue 团队官方也推荐使用 Vite 作为 Vue 3 的默认开发环境。

5. **开发体验**

- **Vue CLI**: 适合对构建流程有高度定制需求的开发者，或者对 Webpack 熟悉的团队。
- **Vite**: 提供“开箱即用”的开发体验，极大简化了配置，提升了开发效率。

**总结**

- 如果你需要稳定、成熟的配置且对 Webpack 熟悉，或者项目有复杂的构建需求，Vue CLI 是不错的选择。
- 如果你追求更好的开发体验、快速构建和更轻量的配置，Vite 是更现代的选择，尤其推荐用于 Vue 3 的新项目。

考虑到你的目标是独立开发一个完整的后台管理系统，Vite 可能会让你在开发速度和体验上有更好的感受。

## 热模块替换（HMR，Hot Module Replacement）

​	热模块替换（HMR，Hot Module Replacement）是一种用于前端开发的技术，允许在应用运行时替换、添加或删除模块，而无需完全刷新页面。这种机制显著提高了开发效率和用户体验，尤其在快速迭代和调试时。

HMR 的工作原理

1. **监听文件变化**: 开发服务器会监视项目中的文件变化（如 JS、CSS 等）。
2. **模块更新**: 当检测到文件变化时，开发服务器会通过 WebSocket 将更新的模块信息发送到浏览器。
3. 模块替换: 浏览器接收到更新后，HMR 会尝试只替换改变的模块，而不是重新加载整个页面。这通常涉及到以下几个步骤：
   - 旧模块的状态保存。
   - 新模块的加载和执行。
   - 根据需要，更新相关的组件或状态。

HMR 的优点

1. **提高开发效率**: 开发者可以在修改代码后立即看到效果，而无需等待整个页面重新加载，从而减少了开发过程中的等待时间。
2. **保持应用状态**: 由于只替换修改的模块，应用的状态（如用户输入、滚动位置等）通常会被保留，这对用户体验非常重要。
3. **快速调试**: 开发者可以快速进行调试，实时查看更改的效果，而不必频繁手动刷新页面。

HMR 的局限性

- **不支持所有模块**: 有些模块可能无法通过 HMR 完全替换，特别是涉及全局状态的模块，可能需要额外的处理。
- **复杂的状态管理**: 在使用状态管理库（如 Vuex 或 Redux）时，热更新可能需要额外的代码来维护状态的一致性。
- **初始配置**: HMR 需要在开发环境中进行配置和支持，并不是所有构建工具默认启用。

使用 HMR

​	在现代前端框架和构建工具（如 Vue、React、Webpack、Vite 等）中，HMR 通常都是开箱即用的。`以 Vite 为例，它在开发模式下默认启用 HMR，开发者无需额外配置`。

结论

​	热模块替换是一种极大提升前端开发体验的技术，尤其在需要频繁修改和调试代码的场景下，能够有效减少开发周期，提高生产力。通过利用 HMR，开发者可以专注于实现功能，而无需过多关注页面的加载与状态管理。

## 介绍下使用npm init vite@latest FirstViteApp命令，选用vue框架以及typescript之后所创建的FirstViteApp目录下各个文件以及文件夹的作用

1. **index.html**

   这是项目的入口 HTML 文件。Vite 在开发时会使用此文件，它会加载 `main.ts` 文件并初始化应用。你可以在此文件中配置页面的基本结构、引入样式和脚本等。

2. **package.json**

   该文件包含项目的元数据，包括项目名称、版本、依赖项和脚本命令。你可以在这里查看和管理项目所需的依赖，以及添加自定义的 npm 脚本来启动或构建项目。

3. **src/** 目录

   这个文件夹包含了项目的源代码。

   - **assets/**: 用于存放静态资源（如图片、字体等）。在开发中可以将所有相关资源放在这里以便管理。
   - **components/**: 该文件夹用于存放 Vue 组件。你可以在此创建和组织不同的组件，以便在 `App.vue` 或其他组件中进行引用。
   - **App.vue**: 主应用组件，是 Vue 应用的根组件。你可以在这里定义应用的主要结构和样式，并将其他组件嵌套在其中。
   - **main.ts**: 应用的入口文件。这里是 Vue 应用的初始化代码，通常会在此引入 Vue、根组件和挂载到 DOM。

4. **tsconfig.json**

   TypeScript 的配置文件。该文件定义了 TypeScript 编译器的选项，如编译目标、模块解析方式等。你可以根据项目需求修改这些设置。

5. **tsconfig.node.json**

   作用: 这是 TypeScript 的配置文件，专门用于 Node.js 环境的配置。

   **内容**: 文件中定义了一些 TypeScript 编译选项，适用于在 Node.js 中运行的代码，例如 Vite 的配置文件和其他 Node.js 相关的脚本。通常，这些选项包括模块解析、库类型等，以确保 TypeScript 在 Node 环境中正常工作。

6. **vite.config.ts**

   Vite 的配置文件。这里可以配置 Vite 的各种选项，例如插件、构建输出目录等。你可以在此文件中进行进一步的定制。

7. **node_modules/** 目录

   该目录包含项目的所有依赖库，运行 `npm install` 时会自动生成。通常不需要手动修改此目录。

8. **index.html**

   作用: 这是项目的主 HTML 文件，用于加载你的 Vue 应用。

   内容:

   - 包含 `<head>` 和 `<body>` 标签，通常在 `<head>` 中设置文档标题、引入 CSS 样式等。
   - `<body>` 中会有一个根元素（例如 `<div id="app"></div>`），Vue 应用会被挂载到这个元素上。
   - Vite 会在开发过程中注入脚本来加载 JavaScript 代码，确保应用可以正确运行。



## tsconfig.node.json中的可以配置的配置项和tsconfig.json配置项一样吗？

​	`tsconfig.node.json` 中的配置项和 `tsconfig.json` 中的配置项基本是一样的。它们都使用 TypeScript 编译器的配置项 (`compilerOptions`)，因为它们本质上都是 TypeScript 的配置文件，只是用于不同的上下文或用途。

主要区别在于使用场景

- **`tsconfig.json`**: 通常是 TypeScript 项目的主配置文件，用于定义项目的全局编译选项。它包含了所有的编译选项、文件包含和排除规则，适用于整个项目。
- **`tsconfig.node.json`**: 是一种特定的配置文件，通常用于 Node.js 环境的特殊编译选项配置。它可能会有一些针对 Node.js 环境优化的配置，比如模块解析策略、编译目标等。这个文件常用于覆盖或扩展主 `tsconfig.json` 中的配置，以适应特定环境或构建任务。

主要配置项的相似性

- 两者中的 **`compilerOptions`**、**`include`**、**`exclude`** 等配置项是完全一致的。
- 它们共享同样的编译选项，如 `target`、`module`、`lib`、`strict` 等，这些选项定义了如何将 TypeScript 代码编译为 JavaScript。

不同场景的配置示例

- **全局配置 (`tsconfig.json`)**: 定义全局编译行为，比如目标为浏览器环境、使用 ES 模块等。
- **特定配置 (`tsconfig.node.json`)**: 用于 Node.js 环境，可能会指定 `module` 为 `commonjs`，设置 `target` 为较新的 JavaScript 版本，以便更好地利用 Node.js 特性。

组合使用

​	在实际项目中，`tsconfig.node.json` 通常通过 `extends` 继承自 `tsconfig.json`，并针对 Node.js 环境的需求进行调整。例如：

```json
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "module": "CommonJS",
    "target": "ES2020"
  }
}
```

总结

- `tsconfig.node.json` 中的配置项与 `tsconfig.json` 一致。
- `tsconfig.node.json`的主要作用是针对特定环境（如 Node.js）进行配置调整，以便更好地控制编译行为。
